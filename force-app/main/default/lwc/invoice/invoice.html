
<template>

  
    <lightning-card title="Create New Invoice">
        <div class="slds-grid slds-gutters slds-p-around_medium">
            <div class="slds-col slds-size_1-of-3">
                <lightning-combobox label="Client" value={selectedAccountId} options={accountOptions} onchange={handleClientChange}></lightning-combobox>
                <div class="slds-m-top_medium"></div>
            <lightning-button variant="brand" label="Pull Data" title="Pull Data" onclick={handlePullData}></lightning-button>
        
           
                </div>
                <div class="slds-col slds-size_1-of-3">

                    <lightning-input label="Start Date" type="date" value={startDate} onchange={handlestartdate}></lightning-input>
                   
                </div>
              
                <div class="slds-col slds-size_1-of-3">
                    <lightning-input label="End Date" type="date" value={endDate} onchange={handleenddate} ></lightning-input>
                </div >
            

            
        
            
            </div>     
        <template if:true={showfields}>
            <div class="slds-grid slds-gutters slds-p-around_medium">
               <div class="slds-col slds-size_1-of-3">
                    <lightning-input label="Terms" type="text" value={terms} onchange={handleTermInputChange} ></lightning-input>
                       </div>

                       <div class="slds-col slds-size_1-of-3">
                        <lightning-input label="GSTIN" type="text" value={gstin} onchange={handleGstinInputChange} ></lightning-input>
             
                       </div>
            </div>
           
        </template>
   
           
        <template if:true={showtable}>
            <div class="scrollable-table">
        <table class="slds-table slds-table_bordered slds-max-medium-table_stacked-horizontal slds-action-overflow--touch__footer">
            <thead>
                <tr>
                    <th>Description</th>
                    <th>Hours</th>
                    <th>Price</th>
                    <th>Cost</th>
                </tr>
            </thead>
            <tbody>
                <template for:each={invoiceItems} for:item="item" for:index="index">
                    <tr key={item.id}>
                        <td><lightning-input type="text" value={item.description}  data-index={index} data-field="description" readonly></lightning-input></td>
                        <td><lightning-input type="number" value={item.hours} onchange={handleItemChange} data-index={index} data-field="hours"></lightning-input></td>
                        <td><lightning-input type="number" value={item.price} onchange={handleItemChange} data-index={index} data-field="price"></lightning-input></td>
                        <td>{item.cost}</td>
                    </tr>
                </template>
                <tr>
                    <td colspan="3" class="slds-text-align_right"><b>Total Cost:</b></td>
                    <td>{totalCost}</td>
                </tr>
            </tbody>
        </table>
    </div>
        
        <div class="slds-grid slds-gutters slds-p-top_medium slds-text-align_center">
            <div class="slds-col">
                <lightning-button variant="neutral" label="Cancel" title="Cancel" onclick={handleCancel} class="slds-m-right_medium"></lightning-button>
           
                <lightning-button variant="brand" label="Generate Invoice" title="Generate Invoice" onclick={handleGenerateInvoice}></lightning-button>
            </div>
        </div>
        
        
        </template>
  
    </lightning-card>
</template>
